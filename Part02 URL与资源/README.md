# Part02 URL与资源

### 2.1 浏览网络资源
&emsp;&emsp;URL可以他通过HTTP及之外的协议来访问资源。他们可以指向网络上的任意资源，或者个人E-mail账户：mailto:president@whitehouse.gov，或者通过其他协议访问各种文件：ftp://ftp.lots-o-books.com/book.xls，或者从流视频服务器上下载电影：rstp://www.xxx.com:1234/video/1/。

### 2.2 URL语法

&emsp;&emsp;1、通用格式：
```xml
<schema>://<user>:<password>@<host>:<port>/<path>;<params>?<query>#<frag>
```
&emsp;&emsp;几乎没有哪个URL包含所有这些组件，最重要的三部分是 schema, host, path。各部分解释如下：  
  

| 组件 | 描述                                                                                        | 默认值                   |  
| -------   | -------                                                                               | --------                 |  
| 方案 | 访问服务器获取资源时要使用哪种协议                                                              | 无                       |  
| 用户 | 某些方案访问资源时需要用户名                                                                   | 匿名                     |  
| 密码 | 用户名后面可能要包含的密码，中间由冒号隔开                                                      | <E-mail>地址（什么鬼？） |  
| 主机 | 资源宿主服务器的主机名或点分IP地址                                                             | 无                       |  
| 端口 | 资源宿主服务器正在监听的端口，很多方案都有默认端口，HTTP是80端口                                  | 因方案而异               |  
| 路径 | 服务器上资源的本地名，由一个斜杠（/）分隔开，路径组件的语法与服务器和方案有关                       | 无                       |  
| 参数 | 某些方案用这个部分指定输入参数，参数以键值对形式，他们之前用分号隔开                               | 无                       |  
| 查询 | 查询部分没有通用格式，用?与其他部分隔离隔离开                                                   | 无                       |  
| 片段 | 一小片或一部分资源的名字，这个字段不会被传递到服务器，只在客户端内部使用，通过#与其他部分分离开        | 无                       |  


##### 2.2.1 方案--使用什么协议
&emsp;&emsp;1、方案必须使用字母开始，由第一个冒号与剩余部分分离开。  
&emsp;&emsp;2、方案名大小写等价。

##### 2.2.3 用户名和密码
&emsp;&emsp;1、有些服务器要求输入用户名密码才能使用，常见的有FTP服务器。  
&emsp;&emsp;2、对 ftp://ftp.xxx.com/pub/gex 没有指定用户名和密码，浏览器通常会插入默认用户名anonymous，并发送默认密码（因浏览器而异，例如IEUser、mozilla）。

##### 2.2.5 参数
&emsp;&emsp;URL的路径组件可以分成若干段，每段都有自己的参数。例如：
```url
http://www.xxx.com/hammer;sale=false/index.html;graphics=true
```

##### 2.2.6 查询字符串
&emsp;&emsp;除了对非法字符线之外，查询字符串对格式没什么要求。通常，查询字符串以键值对形式出现，键值对之间用&分开。

##### 2.2.7 片段
&emsp;&emsp;1、服务器通常只处理整个对象，而不是片段。所以客户端不能将片段发送给服务器，浏览器获取整个资源后，会根据片段来显示用户感兴趣的那部分。  
&emsp;&emsp;2、片段挂在URL最右边，用#与其他部分分开。

### 2.3 URL快捷方式

##### 2.3.1 相对URL
&emsp;&emsp;1、相对URL是不完整的，需要相对于基础URL进行解析。解析流程：
![](https://github.com/hsqs/http-memo/blob/master/Part02%20URL%E4%B8%8E%E8%B5%84%E6%BA%90/%E7%9B%B8%E5%AF%B9%E8%B7%AF%E5%BE%84%E8%BD%AC%E6%8D%A2%E4%B8%BA%E7%BB%9D%E5%AF%B9%E8%B7%AF%E5%BE%84%E6%B5%81%E7%A8%8B%E5%9B%BE.png)


